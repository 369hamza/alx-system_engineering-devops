i#!/usr/bin/env bash
# Bash script that configures an Ubuntu server with custom hostname resolutions

# Check if script is running on Docker
if grep -q docker /proc/1/cgroup; then
    # Workaround for Docker to modify /etc/hosts
    cp /etc/hosts ~/hosts.new
    sed -i 's/^127\.0\.0\.1\s*localhost/127.0.0.2 localhost/' ~/hosts.new
    sed -i 's/^.*facebook\.com/8.8.8.8 facebook.com/' ~/hosts.new
    sudo cp -f ~/hosts.new /etc/hosts
    rm ~/hosts.new

    echo "Configuration completed successfully!"
else
    echo "This script should be run inside a Docker container."
fi
